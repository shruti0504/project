<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Cycle Care</title>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
</head>
<body>
    <!-- Designing the navbar -->
    <div class="header">
        <style>
            *{
    margin: 0px;
    padding: 0;
    box-sizing: border-box;
    list-style: none;
    text-decoration: none;
    color:brown;/*clr of icon*/

}
.headerbar
{
    display: none;
}
.logo img{
    padding-top: 30px;
    width: 70px;
}
.header {
    display: flex;
    align-items: center;
    height: 70px;
    padding: 0 7vw;
    background-color: rgb(247, 216, 243);
    justify-content: space-between;
    position: relative; /* Make the header a containing block */
}

.nav ul .home-icon {
    margin-left: auto; /* Push the home icon to the right */
}
/*house icon la rightmost ghetle*/
.house {
    margin-left: auto;
    padding-left: 10px;
}

.house-icon {
    font-size: 24px;
}
/*review.html*/

.home{
    background-color: rgb(247, 216, 243);
    padding: 0  7vw;
    padding-top: 20px;
}
.home img{
    height: 600px;
    border-radius: 50%;
} 
  
.main_slide2{
    max-width: 80px 0;
    display: flex;
    flex-wrap: wrap;
    align-items: center;
    justify-content: space-between;
    padding-bottom: 70px;
 }
 .foodimg{
     flex: 0.5;
 }
 .foodimg img
 {
     max-width: 804px;
     border-radius: 50%;
     width: 450x;
     height: 550px;
 }
 .question
 {
     flex: 0.5;
     flex-direction: column;
     margin-left: 40px;
 }
 .question h2
 {
     font-size: 45px;
     margin-bottom: 15px;
 }
 .question h4
 {
     font-size: 20px;
     
 }
 .q-a{
     display: flex;
     justify-content: flex-start;
     align-items: center;
     padding: 15px 0;
     cursor: pointer;
 }
 .q-a img{
     height: 60px;/*bullet cha size dyala*/
 }
 .q-a div:first-child{/*bullet cha effect ani bg dyala*/
    padding: 10px;
    border-radius: 50%; 
    height: 80px;
    text-align: center;
    background-color: antiquewhite;
    margin-right: 20px;
 
 }
 .q-a div:nth-child(2)
 {
     display:flex;
     flex-direction: column;
 }
 .q-a div:nth-child(2) p
 {
     margin-top: 10px;
     font-size: 20px;
 }

        </style>
        <div class="logo">
            <img src="images/logo.png" alt="This is logo image">
        </div>
        <div class="house">
            <a href="home.html" class="house-icon">
                <li><i class="fa-solid fa-house"></i></li>
            </a>
        </div>
    </div>
    <div class="home">
        <div class="main_slide2">
            <div class="foodimg">
                <img src="images/age.png" alt="">
            </div>
            <div class="question">
                <h2>Period Care Essentials</h2>
                <div class="q-a">
                    <div>
                        <img src="images/lin.png" alt="">
                    </div>
                    <div>
                        <h4>Pantiliners</h4>
                        <p>These are small, thin, disposable absorbent pads that can be used on their own on days of light flow. They can also be used in combination with a tampon, in case of leaks or discharge.</p>
                    </div>
                </div>
                <div class="q-a">
                    <div>
                        <img src="images/pad.png" alt="">
                    </div>
                    <div>
                        <h4>Reusable pads</h4>
                        <p>These are usually made of cotton,or other natural absorbent fibres.They can be washed with detergent and reused. Some have velcro tabs to secure them around your underwear.</p>
                    </div>
                </div>
                <div class="q-a">
                    <div>
                        <img src="images/tamp.png" alt="">
                    </div>
                    <div>
                        <h4>Tampons</h4>
                        <p>These are small, cylindrical plugs of disposable absorbent material (cotton and/or rayon) that are inserted into the vagina to absorb menstrual flow. Tampons have a string attached so that they can be pulled out.</p>
                    </div>
                </div>
                <div class="q-a">
                    <div>
                        <img src="images/cup.png" alt="">
                    </div>
                    <div>
                        <h4>Menstrual cup</h4>
                        <p>This is a cup-shaped, flexible silicone or rubber apparatus that is inserted inside the vagina to catch menstrual flow. The cup has a stem on the bottom for removal. Menstrual cups should be emptied every 8-12 hours. Some are disposable and others can be washed and reinserted.</p>
                    </div>
                </div>
            </div>
        </div>
    <style>
        /* Your CSS styles for body, .container, .card, etc. */
        body {
            color: brown;
            background-color: rgb(247, 216, 244);
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
        }

        .container {
    display: flex;
    justify-content: space-around; /* Distribute items evenly with space around */
    align-items: flex-start; /* Align items to the start of the cross axis */
    flex-wrap: nowrap; /* Prevent items from wrapping to the next line */
    margin-top: 50px;
    padding: 0 15px;
    padding-bottom: 70px;
}

.card {
    flex: 1 0 calc(33.33% - 20px); /* Flex-grow, flex-shrink, fixed width */
    margin: 0 10px; /* Adjust margins for spacing */
    background-color: rgb(247, 216, 243);
    border: 1px solid #ddd;
    border-radius: 8px;
    padding: 15px;
    box-shadow: 0 4px 8px rgba(0, 0, 0, 0.1);
    max-width: calc(33.33% - 20px); /* Limits maximum width of each card */
}

.card img
{
    border-radius: 10%;
    display: cover;
}
        .card-img-top {
            width: 100%;
            border-radius: 8px;
        }

        .card-title {
            font-size: 1.5rem;
            font-weight: bold;
            font-family:Arial, Helvetica, sans-serif;
            margin-bottom: 10px;
            padding-bottom: 2px;
        }

        .card-body {
            padding: 15px;
            
        }

        /* Form styles */
        .form-label {
            margin-bottom: .5rem;
            
        }

        .form-control {
            display: block;
            width: 100%;
            padding: .375rem .75rem;
            font-size: 1rem;
            line-height: 1.5;
            color: #495057;
            background-color: #e6a5e1;
            border: 1px solid #ced4da;
            border-radius: .25rem;
            transition: border-color .15s ease-in-out,box-shadow .15s ease-in-out;
        }

        .form-control:focus {
            color: #495057;
            background-color: #e6a5e1;
            border-color: #80bdff;
            outline: 0;
            box-shadow: 0 0 0 .2rem rgba(0,123,255,.25);
        }

        /* Centering the button with space below */
.btn-wrapper {
    margin-top: 15px;
    margin-bottom: 15px; /* Add space below the button */
}

.btn-primary {
    color: #fff;
    height: 50px;
    width: 100px;
    background-color: #771f1f;
    border-color: #007bff;
    display: flex; /* Change to flex to center text */
    align-items: center; /* Center text vertically */
    justify-content: center; /* Center text horizontally */
    font-weight: 400;
    text-align: center;
    cursor: pointer;
    border: 1px solid transparent;
    padding: .375rem .75rem;
    font-size: 1rem;
    border-radius: .25rem;
    transition: color .15s ease-in-out, background-color .15s ease-in-out, border-color .15s ease-in-out, box-shadow .15s ease-in-out;
    text-decoration: none;
}
.btn-primary:hover {
    color: #fff;
    background-color: #0069d9;
    border-color: #0062cc;
}

        /* Review styles */
        .starRating {
            color: gray;
            padding-top: 10px;
            padding-bottom: 10px;
        }

        .starRating .fa-star {
            font-size: 24px;
            cursor: pointer;
        }

        .starRating .fa-star.checked {
            color: #f1c40f;
        }

        .review {
            border: 1px solid #ddd;
            border-radius: 4px;
            padding: 10px;
            margin-bottom: 10px;
        }

        .review p {
            margin-bottom: 5px;
        }

        .review small {
            color: #666;
        }

        /* Reviews container */
        .reviews {
            padding: 10px;
     
        }
    </style>
</head>
<body>
    <div class="container">
        <!-- Product 1 -->
        <div class="card">
            <img src="images/pad1.png" class="card-img-top" alt="Product 1 Image" style="width: 200px; height: 200px;">
            <div class="card-body">
                <h5 class="card-title">Sanitary Napkins</h5>
                <!-- Product link -->
                <a href="https://www.amazon.in/Sanitary-Napkins/b?ie=UTF8&node=1374609031" target="_blank" class="product-link">Buy Sanitary Napkins</a><br><br>
                <form class="reviewForm" data-product-id="1">
                    <div class="mb-3">
                        <label for="rating" class="form-label">Rating</label>
                        <div class="starRating mb-2">
                            <i class="fa fa-star" data-rating="1"></i>
                            <i class="fa fa-star" data-rating="2"></i>
                            <i class="fa fa-star" data-rating="3"></i>
                            <i class="fa fa-star" data-rating="4"></i>
                            <i class="fa fa-star" data-rating="5"></i>
                        </div>
                        <input type="hidden" class="rating" name="rating">
                    </div>
                    <div class="mb-3">
                        <label for="review" class="form-label">Review</label>
                        <textarea class="form-control review" style="background-color: #e6a5e1;" name="review" rows="3"></textarea>
                    </div>
                    <div class="btn-wrapper">
                        <button type="submit" class="btn-primary">Submit</button>
                    </div>
                </form>
                <hr>
                <div class="reviews" data-product-id="1">
                    <!-- Reviews will be displayed here -->
                </div>
            </div>
        </div>

        <!-- Product 2 -->
        <div class="card">
            <img src="images/cuo.png" class="card-img-top" alt="Product 2 Image" style="width: 200px; height: 200px;">
            <div class="card-body">
                <h5 class="card-title">Menstrual Cups</h5>
                <!-- Product link -->
                <a href="https://www.amazon.in/menstrual-cup/s?k=menstrual+cup" target="_blank" class="product-link">Buy Menstrual Cups</a><br><br>
                <form class="reviewForm" data-product-id="2">
                    <div class="mb-3">
                        <label for="rating" class="form-label">Rating</label>
                        <div class="starRating mb-2">
                            <i class="fa fa-star" data-rating="1"></i>
                            <i class="fa fa-star" data-rating="2"></i>
                            <i class="fa fa-star" data-rating="3"></i>
                            <i class="fa fa-star" data-rating="4"></i>
                            <i class="fa fa-star" data-rating="5"></i>
                        </div>
                        <input type="hidden" class="rating" name="rating">
                    </div>
                    <div class="mb-3">
                        <label for="review" class="form-label">Review</label>
                        <textarea class="form-control review" style="background-color: #e6a5e1;" name="review" rows="3"></textarea>
                    </div>
                    <div class="btn-wrapper">
                        <button type="submit" class="btn-primary">Submit</button>
                    </div>
                </form>
                <hr>
                <div class="reviews" data-product-id="2">
                    <!-- Reviews will be displayed here -->
                </div>
            </div>
        </div>

        <!-- Product 3 -->
        <div class="card">
            <img src="images/tampon.png" class="card-img-top" alt="Product 3 Image" style="width: 200px; height: 200px;">
            <div class="card-body">
                <h5 class="card-title">Tampons</h5>
                <!-- Product link -->
                <a href="https://www.amazon.in/Tampons/b?ie=UTF8&node=1374610031" target="_blank" class="product-link">Buy Sanitary Tampons</a><br><br>
                <form class="reviewForm" data-product-id="3">
                    <div class="mb-3">
                        <label for="rating" class="form-label">Rating</label>
                        <div class="starRating mb-2">
                            <i class="fa fa-star" data-rating="1"></i>
                            <i class="fa fa-star" data-rating="2"></i>
                            <i class="fa fa-star" data-rating="3"></i>
                            <i class="fa fa-star" data-rating="4"></i>
                            <i class="fa fa-star" data-rating="5"></i>
                        </div>
                        <input type="hidden" class="rating" name="rating">
                    </div>
                    <div class="mb-3">
                        <label for="review" class="form-label">Review</label>
                        <textarea class="form-control review" style="background-color: #e6a5e1;" name="review" rows="3"></textarea>
                    </div>
                    <div class="btn-wrapper">
                        <button type="submit" class="btn-primary">Submit</button>
                    </div>
                </form>
                <hr>
                <div class="reviews" data-product-id="3">
                    <!-- Reviews will be displayed here -->
                </div>
            </div>
        </div>
    </div>

<script>
    document.addEventListener('DOMContentLoaded', function() {
    // Add event listener to all review forms
    let reviewForms = document.querySelectorAll('.reviewForm');
    reviewForms.forEach(form => {
        form.addEventListener('submit', function(e) {
            e.preventDefault();
            let productId = this.dataset.productId;
            let formData = new FormData(this);
            formData.append('product_id', productId);
            fetch('submit_review.php', {
                method: 'POST',
                body: formData
            })
            .then(response => response.json())
            .then(data => {
                if (data.success) {
                    displayReviews(productId);
                    resetForm(form); // Reset the form and star ratings
                } else {
                    alert('Error submitting review.');
                }
            });
        });

        // Add click event listener to stars for rating
        let stars = form.querySelectorAll('.fa-star');
        stars.forEach(star => {
            star.addEventListener('click', function() {
                let rating = this.dataset.rating;
                form.querySelector('.rating').value = rating;
                highlightStars(form, rating);
            });
        });
    });

    // Display initial reviews for all products
    displayAllReviews();
});

function resetForm(form) {
    // Reset form inputs
    form.reset();

    // Reset star ratings
    let stars = form.querySelectorAll('.fa-star');
    stars.forEach(star => {
        star.classList.remove('checked');
    });
}

function displayAllReviews() {
    let reviewForms = document.querySelectorAll('.reviewForm');
    reviewForms.forEach(form => {
        let productId = form.dataset.productId;
        displayReviews(productId);
    });
}

function displayReviews(productId) {
    let reviewsDiv = document.querySelector(`.reviews[data-product-id="${productId}"]`);
    fetch(`fetch_reviews.php?product_id=${productId}`)
    .then(response => response.json())
    .then(data => {
        reviewsDiv.innerHTML = '';
        data.reviews.forEach(review => {
            let stars = '';
            for (let i = 0; i < 5; i++) {
                if (i < review.rating) {
                    stars += '<i class="fa fa-star checked"></i>';
                } else {
                    stars += '<i class="fa fa-star"></i>';
                }
            }
            let reviewElement = document.createElement('div');
            reviewElement.classList.add('review', 'mb-3', 'p-2', 'border');
            reviewElement.innerHTML = `
            <div class="starRating">${stars}</div>
            <p>${review.review}</p>
            <small>${new Date(review.created_at).toLocaleString()}</small>
            `;
            reviewsDiv.appendChild(reviewElement);
        });
    });
}

function highlightStars(form, rating) {
    let stars = form.querySelectorAll('.fa-star');
    stars.forEach(star => {
        if (star.dataset.rating <= rating) {
            star.classList.add('checked');
        } else {
            star.classList.remove('checked');
        }
    });
}

</script>
</body>
</html>

    </div>
</body>
</html>
